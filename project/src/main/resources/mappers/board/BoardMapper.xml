<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.board.mapper.BoardMapper">

	<select id="getList" resultType="boardVO">
		SELECT * 
		FROM TBL_BOARD
	</select>

	<insert id="insert" parameterType="boardVO">
	<!-- parameter 는 생략 가능 :Mapper 에서 연결된 걸로 가져옴   -->
	<selectKey keyProperty="bno" order="BEFORE" resultType="long">
		SELECT NVL(MAX(BNO),0)+1 FROM TBL_BOARD
	</selectKey>
		INSERT INTO TBL_BOARD(BNO, TITLE, CONTENT, USER_ID, SECRET)
		VALUES(  #{bno}
				, #{title}
				, #{content}
				, #{user_id}
				, #{secret})
	</insert>
	
	<select id="read" parameterType="long" resultType="boardVO">
	<!-- parameter 는 생략 가능 :Mapper 에서 연결된 걸로 가져옴   -->
		SELECT * FROM TBL_BOARD
		WHERE BNO = #{bno}
	</select>
		
	<delete id="delete">
		DELETE FROM TBL_BOARD WHERE BNO = #{bno}
	</delete>

	<update id="update">
		UPDATE TBL_BOARD
		SET   TITLE = #{title}
			, CONTENT = #{content}
			, USER_ID = #{user_id}
			, UPDATEDATE = SYSDATE
			, SECRET =#{secret}
		WHERE BNO = #{bno}
	</update>
	
</mapper>
